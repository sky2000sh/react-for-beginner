<!DOCTYPE html>
<html>
<body>
    <div id="root"></div>
</body>
<!-- react를 사용할 수 있도록 import를 먼저 하기 -->
<script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
    const root = document.getElementById("root");

    // html을 형성하는 어려운 방식    
    /*
    const h3 = React.createElement(
        "h3",
        //{id: "sexy-span", style:{color:'red'} },  // id나 class 등, 실제 속성(property)이 기재되는 명렁어 문구
        {
            id: "title",
            onMouseEnter: () => console.log("mouse enter!"),
        },
        "Hello, I'm a span!"
    );  // html의 span 태그를 사용한 것과 같은 ReactJS 명령어
    */

    /* const btn부터 해당 );까지의 코드를 가지고 button 기능을 만드는데
    내부에는 첫번째 argument로서 btn에 들어갈 html태그를 넣었고,
    맨 아래 세번째 content(= "Click me")를 넣었고,
    중간 두번째 argument는 props(속성; property)가 포함된 object로서, eventListener등 이벤트까지 장착했다. */
    /*
    const btn = React.createElement(
        "button",
        {
            onClick: () => console.log("i'm clicked"),
            style: {
                backgroundColor: "#00acc1",
            },
        },
        "Click me!"
    );
    */

    /*
    const container = React.createElement(
        "div",
        null,
        [h3, btn]
    );
    */

        /*
    const Title = () => (
        <h3 id="title" onMouseEnter={ () => console.log("mouse enter!") }>
            Hello I'm a title
        </h3>
    );
    const Button = () => (
        <button style={ {backgroundColor: "tomato",} } onClick={ () => console.log("im clicked") }>
            Click me
        </button>
    );
    */

    /*
    const container = React.createElement(
        "div",
        null,
        [Title, Button]
    );
    */
    
    //  <Title />과 <Button /> 태그를 div태그에 넣는다. 이 경우 항상 대문자로 시작하기. 그렇지 않으면 html의 title과 button 기능의 태그로 이해하기 때문에 오류가 생긴다.
    /*
    const Container = (
        <div>
            <Title />
            <Button />
        </div>
    );
    */

    /*
    let counter = 0;
    function countUp() {
        counter += 1;      
    }
    */
    /*
    function render() {
        ReactDOM.render(<App />, root);
    }
    */
    /* <h3>Total clicks : {counter} </h3>
    <button onClick={countUp}>Click me</button> */
    /*
    function App() {
        const [counter, setCounter] = React.useState(0);
        //let [counter, modifier] = React.useState(0);
        //console.log('data는? : ', data);
        // console에 보이는 것은, (2) [0, ƒ] => 이 뜻은 배열의 첫 번째 값(0)은 초기값(dafault value / initial value)이고, 두 번째 값은 그 초기값을 바꾸는 함수(function)을 뜻한다.
        //const counter = data[0];
        //const modifier = data[1];
        // ***** state(상태)가 바뀌면 React가 컴포넌트를 refresh해줘서 reRendering해준다. *****
        const onClick = () => {
            //counter += 1;
            //console.log('counter? : ', counter);
            //setCounter(counter + 1);
            setCounter( (current) => current + 1 );  // [(current) => current + 1] 이 뜻은 current라는 이륾을 가진 function () 함수를 적용해, current +1이란 명령어를 넣을 수 있다.
        }
        return (
            <div>
                <h3>Total clicks : {counter} </h3>

                <button onClick={onClick}>Click me</button>           
            </div>
        );
    };
    */

    function App() {
        const [amount, setAmount] = React.useState();
        const [flipped, setFlipped] = React.useState(false);
        const onChange = () => {
            //console.log("somebody wrote!")
            //console.log(event)
            //console.log(event.target.value)
            setAmount(event.target.value);
        };
        const reset = () => setAmount(0);
        //const onFlip = () => setFlipped(!flipped);
        // Flip 버튼을 누르면 onFlip() 함수가 실행되는데, onFlip() 함수는 현재 값을 받아서 그 반대의 값을 내놓는다는 명령어를 가지고 있다.
        const onFlip = () => {
            reset();
            setFlipped( (current) => !current );            
        }
        return (
            <div>
                <h1>Super Converter</h1>
                <div>
                    <label for="minutes">Minutes</label>
                    <input value={flipped ? amount * 60 : amount} id="minutes" placeholder="Minutes" type="number"
                            onChange={onChange} disabled={flipped === true} />
                </div>
                <div>
                    <label for="hours">Hours</label>
                    <input value={flipped ? amount : Math.round(amount / 60) } id="hours" placeholder="Hours" type="number"
                            onChange={onChange} disabled={flipped === false} />      
                </div>
                <button onClick={reset}>Reset</button>
                <button onClick={onFlip}>Flip</button>
            </div>
        );
    } 
    // <input value={Math.round(minutes / 60)}
    //  disabled={true} => input박스에 입력하지 못하도록 막아놓는 것 / read-only와 비슷한 개념

    //ReactDOM.render(span, root)
    //ReactDOM.render(btn, root)
    //ReactDOM.render(container, root)
    //ReactDOM.render(<Container />, root);
    ReactDOM.render(<App />, root);
</script>
</html>